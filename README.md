# KZ-InsurePro

## Автоматизация МСФО и платежеспособности для страховых компаний Казахстана

**Версия:** 1.0.0-demo
**Дата релиза:** 20.11.2025

---

## ДЕМОНСТРАЦИОННАЯ ВЕРСИЯ - НЕ ДЛЯ ПРОИЗВОДСТВЕННОГО ИСПОЛЬЗОВАНИЯ

---

## Описание

KZ-InsurePro — комплексная программная экосистема для автоматизации соответствия международным стандартам финансовой отчетности (МСФО 9, МСФО 17) и регуляторным требованиям платежеспособности (АРФР, ФГСВ) для страховых компаний Республики Казахстан.

### Целевая аудитория

- 27 действующих страховых компаний Казахстана
- Фонд гарантирования страховых выплат (ФГСВ)
- Перестраховочные организации

### Ключевые возможности

- **МСФО 9**: Расчет ECL, классификация финансовых инструментов, PD/LGD модели
- **МСФО 17**: BEL, RA, CSM с моделями GMM/VFA/PAA
- **Платежеспособность**: MMP, MGF, FMP по требованиям АРФР
- **ФГСВ**: Расчет взносов, моделирование банкротств
- **Аудиторский след**: Полная трассируемость расчетов с формулами

## Регуляторная база

### МСФО 9
- МСФО 9 "Финансовые инструменты"
- АРФР Постановление №269 от 29.12.2017
- Изменения: №83 от 21.10.2024, №92 от 27.12.2024

### МСФО 17
- МСФО 17 "Договоры страхования"
- Технические обновления Декабрь 2025

### Платежеспособность
- АРФР Постановление №304 от 26.12.2016
- Изменения: №95 от 22.12.2023, №3 от 20.02.2023, №14 от 16.05.2025
- Изменения по внутреннему аудиту от 08.10.2025
- EIOPA 2025: макропруденциальные требования

### ФГСВ
- Закон РК №423-II от 03.06.2003 "О Фонде гарантирования страховых выплат"

## Макроэкономические показатели (Ноябрь 2025)

| Показатель | Значение |
|------------|----------|
| Рост ВВП | +5.6% |
| Инфляция | 12.9% |
| Базовая ставка НБК | 18.0% |
| Курс USD/KZT | 560 |
| Цена Brent | $80.7 |
| МРП 2025 | 3,932 ₸ |

### Мультипликаторы PD

| Сценарий | Мультипликатор | Вес |
|----------|----------------|-----|
| Базовый | 1.35 | 55% |
| Неблагоприятный | 1.80 | 35% |
| Стрессовый | 2.40 | 10% |
| **Итого** | **1.613** | |

## Установка

### Требования

- Python 3.12+
- pip

### Шаги установки

```bash
# Клонирование или копирование проекта
cd kz_insurepro

# Создание виртуального окружения
python -m venv venv

# Активация (Windows)
venv\Scripts\activate

# Активация (Linux/Mac)
source venv/bin/activate

# Установка зависимостей
pip install -r requirements.txt

# Запуск приложения
python run.py
```

Приложение будет доступно по адресу: http://127.0.0.1:5000

## Структура проекта

```
kz_insurepro/
├── app/
│   ├── __init__.py          # Flask app factory
│   ├── routes.py             # Web routes
│   ├── modules/
│   │   ├── ifrs9.py          # МСФО 9 калькулятор
│   │   ├── ifrs17.py         # МСФО 17 калькулятор
│   │   ├── solvency.py       # Платежеспособность
│   │   └── fgsv.py           # ФГСВ калькулятор
│   ├── models/
│   │   └── database.py       # SQLAlchemy модели
│   ├── templates/            # HTML шаблоны
│   └── api/
│       └── routes.py         # REST API endpoints
├── tests/                    # Unit тесты
├── data/
│   ├── sample/               # Демо-данные
│   └── exports/              # Экспорты
├── config.py                 # Конфигурация
├── requirements.txt          # Зависимости
├── run.py                    # Точка входа
└── README.md
```

## Использование

### Веб-интерфейс

1. Запустите приложение: `python run.py`
2. Откройте браузер: http://127.0.0.1:5000
3. Выберите модуль из бокового меню
4. Введите параметры и нажмите "Рассчитать"

### API

#### Проверка состояния
```bash
curl http://127.0.0.1:5000/api/health
```

#### Расчет ECL
```bash
curl -X POST http://127.0.0.1:5000/api/ifrs9/ecl \
  -H "Content-Type: application/json" \
  -d '{
    "gca": 500000000,
    "pd": 0.095,
    "lgd": 0.69,
    "eir": 0.19,
    "term": 3,
    "dpd": 0,
    "scenario": "weighted"
  }'
```

#### Расчет GMM
```bash
curl -X POST http://127.0.0.1:5000/api/ifrs17/gmm \
  -H "Content-Type: application/json" \
  -d '{
    "premiums": 100000000,
    "claims_per_year": 80000000,
    "expenses_per_year": 5000000,
    "acquisition_costs": 10000000,
    "term": 10,
    "ra_method": "coc"
  }'
```

#### Расчет платежеспособности
```bash
curl -X POST http://127.0.0.1:5000/api/solvency/calculate \
  -H "Content-Type: application/json" \
  -d '{
    "gross_premiums": 35000000000,
    "incurred_claims": 18000000000,
    "equity": 20000000000,
    "ecl_adjustment": 2100000000,
    "csm_adjustment": 11800000000,
    "subordinated": 3000000000,
    "illiquid": 500000000,
    "has_osago": true,
    "k": 0.70
  }'
```

## Ключевые формулы

### МСФО 9 - ECL

```
ECL = Σ(PD_t × LGD × EAD_t × DF_t)

PD_adj = PD_base × Σ(w_i × M_i)
LGD_adj = LGD_hist × (1 + Δ_macro)
EAD = GCA + Undrawn × CCF
DF_t = exp(-r × t)
```

### МСФО 17 - GMM

```
Liability = FCF + CSM
FCF = BEL + RA
CSM = Premiums - AC - BEL - RA
```

### Платежеспособность - Nmп

```
Nmп = FMP / MMP

MMP = max(MMP_P, MMP_I) + OSAGO_adj
FMP = Equity - ECL - Illiquids + CSM + Subordinated
```

## Тестирование

```bash
# Запуск всех тестов
pytest tests/ -v

# Запуск с покрытием
pytest tests/ --cov=app --cov-report=html
```

## Ограничения демо-версии

- Максимум 100 записей на модуль
- Максимум 2 страховщиков
- Статические данные НБК (Ноябрь 2025)
- Mock API для 1С/SAP интеграций
- Водяной знак на всех выводах

## Обновление до полной версии

Полная версия включает:

- Неограниченное количество записей
- Интеграция с 1С и SAP
- Real-time данные от НБК
- XBRL экспорт для АРФР
- Парсинг законодательства с adilet.zan.kz
- Полная ML калибровка моделей
- GPU-ускоренные Monte Carlo симуляции
- Техническая поддержка 24/7

Контакт для приобретения: info@kz-insurepro.kz

## Лицензия

Демо-версия предоставляется для ознакомительных целей.

---

**Обновите до полной версии для неограниченных данных**

© 2025 KZ-InsurePro
